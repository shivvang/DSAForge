{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:11:25.327Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:11:25.328Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:13:12.929Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:13:12.930Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:14:21.596Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:14:21.597Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:50:47.027Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:50:47.030Z"}
{"level":"error","message":"redisClient is not defined","service":"identity-service","stack":"ReferenceError: redisClient is not defined\n    at RedisStore.sendCommand (file:///C:/Dsa_note_Keeper/Indentity-service/src/server.js:71:46)\n    at RedisStore.loadIncrementScript (file:///C:/Dsa_note_Keeper/Indentity-service/node_modules/rate-limit-redis/dist/index.mjs:76:31)\n    at RedisStore.retryableIncrement (file:///C:/Dsa_note_Keeper/Indentity-service/node_modules/rate-limit-redis/dist/index.mjs:108:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async RedisStore.increment (file:///C:/Dsa_note_Keeper/Indentity-service/node_modules/rate-limit-redis/dist/index.mjs:154:21)\n    at async file:///C:/Dsa_note_Keeper/Indentity-service/node_modules/express-rate-limit/dist/index.mjs:700:33\n    at async file:///C:/Dsa_note_Keeper/Indentity-service/node_modules/express-rate-limit/dist/index.mjs:676:5","timestamp":"2025-01-06T17:55:59.920Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Registration error occured Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:278:15)\n    at registerUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:40:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-06T17:58:34.676Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T17:58:34.684Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Registration error occured Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:278:15)\n    at registerUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:26:36)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-06T18:19:42.030Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-06T18:19:42.032Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Registration error occured Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:278:15)\n    at registerUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:40:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-07T06:06:36.511Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-07T06:06:36.520Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Registration error occured Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:278:15)\n    at registerUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:40:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-07T06:12:38.044Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-07T06:12:38.051Z"}
{"code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"Registration error occured Cannot set headers after they are sent to the client","service":"identity-service","stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:699:11)\n    at ServerResponse.header (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\response.js:278:15)\n    at registerUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:40:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-07T06:22:43.678Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","code":"ERR_HTTP_HEADERS_SENT","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-07T06:22:43.685Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-07T09:44:01.395Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"unhandled Rejection at","service":"identity-service","timestamp":"2025-01-07T09:44:01.398Z"}
{"level":"error","message":"Login error occured User.comparePassword is not a function","service":"identity-service","stack":"TypeError: User.comparePassword is not a function\n    at LoginUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:83:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-07T18:12:40.969Z"}
{"level":"error","message":"Login error occured User.comparePassword is not a function","service":"identity-service","stack":"TypeError: User.comparePassword is not a function\n    at LoginUser (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:83:42)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-01-07T18:14:10.664Z"}
{"level":"error","message":"error occured in recreating the access token jwt is not defined","service":"identity-service","stack":"ReferenceError: jwt is not defined\n    at renewAccessToken (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:133:25)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-01-08T06:40:57.194Z"}
{"level":"error","message":"error occured in recreating the access token jwt is not defined","service":"identity-service","stack":"ReferenceError: jwt is not defined\n    at renewAccessToken (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:134:25)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-01-08T06:42:33.564Z"}
{"level":"error","message":"error occured in recreating the access token Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle","service":"identity-service","stack":"TypeError: Converting circular structure to JSON\n    --> starting at object with constructor 'MongoClient'\n    |     property 's' -> object with constructor 'Object'\n    |     property 'sessionPool' -> object with constructor 'ServerSessionPool'\n    --- property 'client' closes the circle\n    at JSON.stringify (<anonymous>)\n    at toString (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\jws\\lib\\tostring.js:9:15)\n    at jwsSecuredInput (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\jws\\lib\\sign-stream.js:21:34)\n    at Object.jwsSign [as sign] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\jws\\lib\\sign-stream.js:31:22)\n    at module.exports [as sign] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\jsonwebtoken\\sign.js:246:25)\n    at renewAccessToken (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:140:36)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)","timestamp":"2025-01-08T07:24:23.688Z"}
{"code":"ETIMEOUT","hostname":"_mongodb._tcp.cluster0.zewnqrf.mongodb.net","level":"error","message":"Mongo db connection querySrv ETIMEOUT _mongodb._tcp.cluster0.zewnqrf.mongodb.net","service":"identity-service","stack":"Error: querySrv ETIMEOUT _mongodb._tcp.cluster0.zewnqrf.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:293:17)","syscall":"querySrv","timestamp":"2025-01-08T10:20:35.848Z"}
{"level":"error","message":"❌ Error renewing password:  validateRenewPass is not defined","service":"identity-service","stack":"ReferenceError: validateRenewPass is not defined\n    at renewPassword (file:///C:/Dsa_note_Keeper/Indentity-service/src/controllers/indentity.controller.js:263:27)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (C:\\Dsa_note_Keeper\\Indentity-service\\node_modules\\express\\lib\\router\\index.js:47:12)","timestamp":"2025-01-08T11:43:34.656Z"}
